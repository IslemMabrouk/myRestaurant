<header class=" home_menu" [ngClass]="{ 'background-changed': isMenuFixed }">
    <app-top-bar *ngIf="!isMenuFixed"></app-top-bar>
    <div class="container main_menu">
        <div class="row align-items-center">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <div class="navbar-container">
                        <a routerLink="" class="logo">
                            <img src="assets/img/logo2.png" alt="">
                            <h1 class="sitename">Restaurantly</h1>
                        </a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>

                    <div class="collapse navbar-collapse main-menu-item justify-content-end"
                        id="navbarSupportedContent">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" routerLink="">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" routerLink="about">About</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" routerLink="foodMenu">Menu</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" routerLink="chefs">Chefs</a>
                            </li>
                        </ul>
                    </div>
                    <div class="menu_bt">
                        <a *ngIf="!connected" href="#" class="btn_1 d-none d-sm-block" routerLink="signin">Login</a>
                        <a class="btn_1 d-none d-sm-block" routerLink="foodMenu">Make an Order</a>
                    </div>

                    <div class="isConnected" *ngIf="connected">
                        <button mat-icon-button class="cart-icon" routerLink="cart" matTooltip="Cart">
                            <mat-icon id="cart" [matBadge]="totalQuantity" matBadgeColor="warn">shopping_cart</mat-icon>
                        </button>

                        <!-- Dropdown Trigger Button showing user name -->
                        <!-- If user is connected, show dropdown -->
                        <ng-container *ngIf="connected">
                            <button mat-button [matMenuTriggerFor]="userMenu" class="user-menu-button">
                                {{userInfo.firstName}}
                                <mat-icon class="user-icon">account_circle</mat-icon>
                            </button>
                        </ng-container>

                        <mat-menu #userMenu="matMenu" class="user-menu">

                            <!-- User info section -->
                            <div class="user-info" style="padding: 16px 24px; max-width: 250px;">
                                <div><strong>{{userInfo.firstName}} {{userInfo.lastName}}</strong></div>
                                <div style="font-size: 0.85em; color: gray;">{{userInfo.email}}</div>
                                <mat-divider></mat-divider>
                            </div>

                            <!-- Profile item -->
                            <button mat-menu-item (click)="editProfile()">
                                <mat-icon>person</mat-icon>
                                <span>Profile</span>
                            </button>

                            <!-- Logout item -->
                            <button mat-menu-item color="warn" (click)="logout()">
                                <mat-icon>logout</mat-icon>
                                <span>Logout</span>
                            </button>

                        </mat-menu>

                    </div>
                </nav>
            </div>
        </div>
    </div>
</header>