<mat-card class="mat-elevation-z4">
  <!-- Card Header -->
  <mat-card-header style="display: contents">
    <mat-card-title class="d-flex justify-content-between align-items-center w-100">
      <h3 class="mb-0 d-flex align-items-center">
        <span class="ms-2">Reviews Management</span>
      </h3>
    </mat-card-title>
  </mat-card-header>

  <!-- Card Content -->
  <mat-card-content>
    <div class="table-responsive">
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;">

        <!-- Review ID -->
        <ng-container matColumnDef="review_id">
          <th mat-header-cell *matHeaderCellDef>#</th>
          <td mat-cell *matCellDef="let review">{{ review.id }}</td>
        </ng-container>

        <!-- User -->
        <ng-container matColumnDef="user">
          <th mat-header-cell *matHeaderCellDef>User</th>
          <td mat-cell *matCellDef="let review">{{ review.user.firstName + ' ' + review.user.lastName  }}</td>
        </ng-container>

        <!-- Plat -->
        <ng-container matColumnDef="plat">
          <th mat-header-cell *matHeaderCellDef>Meal</th>
          <td mat-cell *matCellDef="let review">{{ review.plat.name }}</td>
        </ng-container>

                <!-- Review Text -->
        <ng-container matColumnDef="review">
          <th mat-header-cell *matHeaderCellDef>Review</th>
          <td mat-cell *matCellDef="let review">{{ review.review }}</td>
        </ng-container>

        <!-- Created At -->
        <ng-container matColumnDef="created_at">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let review">{{ review.createdAt | date:'short' }}</td>
        </ng-container>

        <!-- Rating -->
        <ng-container matColumnDef="rating">
          <th mat-header-cell *matHeaderCellDef>Rating</th>
          <td mat-cell *matCellDef="let review">
            <mat-icon *ngFor="let star of [].constructor(review.rating)">star</mat-icon>
          </td>
        </ng-container>

        <!-- Actions -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let review">
            <button mat-icon-button color="warn" (click)="deleteReview(review.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <!-- Header Row -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <!-- Data Row -->
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <!-- Paginator -->
      <mat-paginator [pageSizeOptions]="[5, 10, 25]" showFirstLastButtons></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
